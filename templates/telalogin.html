<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>IFPE + Inteligente</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

<link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
<link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='favicon-32x32.png') }}">
<link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='favicon-16x16.png') }}">
<link rel="apple-touch-icon" href="{{ url_for('static', filename='apple-touch-icon.png') }}">

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:'Poppins', sans-serif;
}

body{
  min-height:100vh;
  background: linear-gradient(180deg, #7A2BFF 0%, #4B5BFF 50%, #2E3C9E 100%);
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
  overflow:hidden;
}

/* ===== LOADING ===== */
#loading{
  position:fixed;
  inset:0;
  background: linear-gradient(180deg, #7A2BFF 0%, #19CFFF 100%);
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:9999;
}

.recycle{
  font-size:64px;
  animation: spin 1.5s linear infinite;
  margin-bottom:10px;
}

@keyframes spin{
  from{transform:rotate(0deg)}
  to{transform:rotate(360deg)}
}

/* ===== PARTICLES ===== */
.particle{
  position:absolute;
  border-radius:50%;
  opacity:.8;
  animation: float 6s ease-in-out infinite;
}
.blue{background:#00C2FF}
.green{background:#11FF89}
.yellow{background:#FFD447}
.pink{background:#FF5C8D}

@keyframes float{
  0%{transform:translateY(0)}
  50%{transform:translateY(-12px)}
  100%{transform:translateY(0)}
}

/* ===== LOGIN ===== */
.container{
  width:100%;
  max-width:380px;
  padding:28px 22px 36px;
  text-align:center;
  position:relative;
  z-index:2;
}

.logo{
  width:120px;
  margin:12px auto;
}

h1{font-size:22px;font-weight:700}
h2{font-size:20px;font-weight:600;margin-bottom:28px}

.field{
  background:#0A1B7E;
  border-radius:14px;
  display:flex;
  align-items:center;
  padding:12px 14px;
  margin-bottom:16px;
}

.field input{
  flex:1;
  background:transparent;
  border:none;
  outline:none;
  color:#fff;
  font-size:15px;
}

.button{
  width:100%;
  padding:14px 0;
  border:none;
  border-radius:26px;
  background:#47E895;
  color:#003A1A;
  font-size:16px;
  font-weight:600;
  cursor:pointer;
}

.eye{cursor:pointer;margin-left:8px}
</style>
</head>

<body>

<!-- LOADING -->
<div id="loading">
  <div style="text-align:center">
    <div class="recycle">‚ôªÔ∏è</div>
    <h2>IFPE + Inteligente</h2>
    <p>Carregando pr√°ticas sustent√°veis...</p>
  </div>
</div>

<!-- PARTICLES -->
<script>
const colors=["blue","green","yellow","pink"];
for(let i=0;i<8;i++){   // üî• reduzido para evitar SIGKILL
  const b=document.createElement('span');
  b.className=`particle ${colors[Math.floor(Math.random()*colors.length)]}`;
  const s=Math.floor(Math.random()*8)+6;
  b.style.width=s+'px';
  b.style.height=s+'px';
  b.style.top=Math.random()*100+'%';
  b.style.left=Math.random()*100+'%';
  document.body.appendChild(b);
}
</script>

<!-- REMOVE LOADING COM SEGURAN√áA -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  const loading = document.getElementById("loading");
  if (loading) loading.remove();
});
</script>

<div class="container">
  <img src="{{ url_for('static', filename='logo-removebg-preview.png') }}" class="logo">

  <h1>PLATAFORMA</h1>
  <h2>IFPE + INTELIGENTE</h2>

  <form action="/login" method="POST">
    <div class="field">
      <input type="email" name="email" placeholder="E-mail" required>
    </div>

    <div class="field">
      <input type="password" name="senha" id="senha" placeholder="Senha" required>
      <span class="eye" onclick="toggleSenha()">üëÅÔ∏è</span>
    </div>

    <button class="button" type="submit">Entrar</button>
  </form>
</div>

<script>
function toggleSenha(){
  const s=document.getElementById('senha');
  s.type = s.type === 'password' ? 'text' : 'password';
}
</script>

</body>
</html>
